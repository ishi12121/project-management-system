{"ast":null,"code":"import _slicedToArray from\"C:/Users/Dell/OneDrive/Desktop/project management tool(bharat intern task 1)/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useEffect,useState}from'react';import AddProjectModal from'./AddProjectModal';import axios from'axios';import{Link}from'react-router-dom';// import toast from 'react-hot-toast'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Sidebar=function Sidebar(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isModalOpen=_useState2[0],setModalState=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),projects=_useState4[0],setProjects=_useState4[1];var _useState5=useState(window.location.pathname.slice(1)),_useState6=_slicedToArray(_useState5,2),paramsWindow=_useState6[0],setParamsWindow=_useState6[1];useEffect(function(){});var handleLocation=function handleLocation(e){setParamsWindow(new URL(e.currentTarget.href).pathname.slice(1));};var openModal=useCallback(function(){setModalState(true);},[]);var closeModal=useCallback(function(){setModalState(false);},[]);var projectData=function projectData(){axios.get('https://project-management-api-4mjg.onrender.com/projects/').then(function(res){setProjects(res.data);});};useEffect(function(){projectData();document.addEventListener('projectUpdate',function(_ref){var detail=_ref.detail;projectData();});return function(){document.removeEventListener('projectUpdate',{},false);};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 mb-3 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"\",children:\"Projects\"}),/*#__PURE__*/_jsx(\"button\",{onClick:openModal,className:\"bg-indigo-200 rounded-full p-[2px] focus:outline-none focus:ring focus:ring-indigo-200 focus:ring-offset-1\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",fill:\"currentColor\",className:\"w-5 h-5 text-indigo-600\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M12 5.25a.75.75 0 01.75.75v5.25H18a.75.75 0 010 1.5h-5.25V18a.75.75 0 01-1.5 0v-5.25H6a.75.75 0 010-1.5h5.25V6a.75.75 0 01.75-.75z\",clipRule:\"evenodd\"})})})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"border-r border-gray-300 pr-2\",children:projects.map(function(project,index){return/*#__PURE__*/_jsx(Link,{to:project._id,onClick:function onClick(e){return handleLocation(e);},children:/*#__PURE__*/_jsx(\"li\",{className:\"px-5 py-1.5 mb-1 text-gray-600 font text-sm capitalize select-none hover:text-indigo-600 rounded transition-colors hover:bg-indigo-200/80 \".concat(paramsWindow===project._id&&'text-indigo-600 bg-indigo-200/80'),children:project.title})},index);})}),/*#__PURE__*/_jsx(AddProjectModal,{isModalOpen:isModalOpen,closeModal:closeModal})]});};export default Sidebar;","map":{"version":3,"names":["React","useCallback","useEffect","useState","AddProjectModal","axios","Link","Sidebar","isModalOpen","setModalState","projects","setProjects","window","location","pathname","slice","paramsWindow","setParamsWindow","handleLocation","e","URL","currentTarget","href","openModal","closeModal","projectData","get","then","res","data","document","addEventListener","detail","removeEventListener","map","project","index","_id","title"],"sources":["C:/Users/Dell/OneDrive/Desktop/project management tool(bharat intern task 1)/frontend/src/components/Sidebar.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\nimport AddProjectModal from './AddProjectModal'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n// import toast from 'react-hot-toast'\nconst Sidebar = () => {\n\n  const [isModalOpen, setModalState] = useState(false)\n  const [projects, setProjects] = useState([])\n  const [paramsWindow, setParamsWindow] = useState(window.location.pathname.slice(1))\n  useEffect(() => {\n  })\n\n  const handleLocation = (e) => {\n    setParamsWindow(new URL(e.currentTarget.href).pathname.slice(1))\n  }\n\n  const openModal = useCallback(() => {\n    setModalState(true)\n  }, [])\n\n  const closeModal = useCallback(() => {\n    setModalState(false)\n  }, [])\n\n  const projectData = () => {\n    axios.get('https://project-management-api-4mjg.onrender.com/projects/')\n      .then((res) => {\n        setProjects(res.data)\n      })\n  }\n\n  useEffect(() => {\n    projectData()\n    document.addEventListener('projectUpdate', ({ detail }) => {\n      projectData()\n    })\n    return () => {\n      document.removeEventListener('projectUpdate', {}, false)\n    }\n  }, []);\n\n\n\n  return (\n    <div className='py-5'>\n      <div className=\"px-4 mb-3 flex items-center justify-between\">\n        <span className=''>Projects</span>\n        <button onClick={openModal} className='bg-indigo-200 rounded-full p-[2px] focus:outline-none focus:ring focus:ring-indigo-200 focus:ring-offset-1'>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-5 h-5 text-indigo-600\">\n            <path fillRule=\"evenodd\" d=\"M12 5.25a.75.75 0 01.75.75v5.25H18a.75.75 0 010 1.5h-5.25V18a.75.75 0 01-1.5 0v-5.25H6a.75.75 0 010-1.5h5.25V6a.75.75 0 01.75-.75z\" clipRule=\"evenodd\" />\n          </svg>\n        </button>\n      </div>\n      <ul className='border-r border-gray-300 pr-2'>\n        {projects.map((project, index) => (\n          <Link key={index} to={project._id} onClick={(e) => handleLocation(e)}>\n            <li className={`px-5 py-1.5 mb-1 text-gray-600 font text-sm capitalize select-none hover:text-indigo-600 rounded transition-colors hover:bg-indigo-200/80 ${paramsWindow === project._id && 'text-indigo-600 bg-indigo-200/80'}`}>\n              {project.title}\n            </li>\n          </Link>\n        ))}\n      </ul>\n      <AddProjectModal isModalOpen={isModalOpen} closeModal={closeModal} />\n    </div>\n  )\n}\n\nexport default Sidebar"],"mappings":"2KAAA,MAAOA,MAAP,EAAgBC,WAAhB,CAA6BC,SAA7B,CAAwCC,QAAxC,KAAwD,OAAxD,CACA,MAAOC,gBAAP,KAA4B,mBAA5B,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA;wFACA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CAEpB,cAAqCJ,QAAQ,CAAC,KAAD,CAA7C,wCAAOK,WAAP,eAAoBC,aAApB,eACA,eAAgCN,QAAQ,CAAC,EAAD,CAAxC,yCAAOO,QAAP,eAAiBC,WAAjB,eACA,eAAwCR,QAAQ,CAACS,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,KAAzB,CAA+B,CAA/B,CAAD,CAAhD,yCAAOC,YAAP,eAAqBC,eAArB,eACAf,SAAS,CAAC,UAAM,CACf,CADQ,CAAT,CAGA,GAAMgB,eAAc,CAAG,QAAjBA,eAAiB,CAACC,CAAD,CAAO,CAC5BF,eAAe,CAAC,GAAIG,IAAJ,CAAQD,CAAC,CAACE,aAAF,CAAgBC,IAAxB,EAA8BR,QAA9B,CAAuCC,KAAvC,CAA6C,CAA7C,CAAD,CAAf,CACD,CAFD,CAIA,GAAMQ,UAAS,CAAGtB,WAAW,CAAC,UAAM,CAClCQ,aAAa,CAAC,IAAD,CAAb,CACD,CAF4B,CAE1B,EAF0B,CAA7B,CAIA,GAAMe,WAAU,CAAGvB,WAAW,CAAC,UAAM,CACnCQ,aAAa,CAAC,KAAD,CAAb,CACD,CAF6B,CAE3B,EAF2B,CAA9B,CAIA,GAAMgB,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxBpB,KAAK,CAACqB,GAAN,CAAU,4DAAV,EACGC,IADH,CACQ,SAACC,GAAD,CAAS,CACbjB,WAAW,CAACiB,GAAG,CAACC,IAAL,CAAX,CACD,CAHH,EAID,CALD,CAOA3B,SAAS,CAAC,UAAM,CACduB,WAAW,GACXK,QAAQ,CAACC,gBAAT,CAA0B,eAA1B,CAA2C,cAAgB,IAAbC,OAAa,MAAbA,MAAa,CACzDP,WAAW,GACZ,CAFD,EAGA,MAAO,WAAM,CACXK,QAAQ,CAACG,mBAAT,CAA6B,eAA7B,CAA8C,EAA9C,CAAkD,KAAlD,EACD,CAFD,CAGD,CARQ,CAQN,EARM,CAAT,CAYA,mBACE,aAAK,SAAS,CAAC,MAAf,wBACE,aAAK,SAAS,CAAC,6CAAf,wBACE,aAAM,SAAS,CAAC,EAAhB,sBADF,cAEE,eAAQ,OAAO,CAAEV,SAAjB,CAA4B,SAAS,CAAC,4GAAtC,uBACE,YAAK,KAAK,CAAC,4BAAX,CAAwC,OAAO,CAAC,WAAhD,CAA4D,IAAI,CAAC,cAAjE,CAAgF,SAAS,CAAC,yBAA1F,uBACE,aAAM,QAAQ,CAAC,SAAf,CAAyB,CAAC,CAAC,oIAA3B,CAAgK,QAAQ,CAAC,SAAzK,EADF,EADF,EAFF,GADF,cASE,WAAI,SAAS,CAAC,+BAAd,UACGb,QAAQ,CAACwB,GAAT,CAAa,SAACC,OAAD,CAAUC,KAAV,qBACZ,KAAC,IAAD,EAAkB,EAAE,CAAED,OAAO,CAACE,GAA9B,CAAmC,OAAO,CAAE,iBAAClB,CAAD,QAAOD,eAAc,CAACC,CAAD,CAArB,EAA5C,uBACE,WAAI,SAAS,qJAA+IH,YAAY,GAAKmB,OAAO,CAACE,GAAzB,EAAgC,kCAA/K,CAAb,UACGF,OAAO,CAACG,KADX,EADF,EAAWF,KAAX,CADY,EAAb,CADH,EATF,cAkBE,KAAC,eAAD,EAAiB,WAAW,CAAE5B,WAA9B,CAA2C,UAAU,CAAEgB,UAAvD,EAlBF,GADF,CAsBD,CA7DD,CA+DA,cAAejB,QAAf"},"metadata":{},"sourceType":"module"}